{"metadata":{"usedHelpers":["interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"meteor/mongo","imported":["Mongo"],"specifiers":[{"kind":"named","imported":"Mongo","local":"Mongo"}]},{"source":"valid-url","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"validUrl"}]},{"source":"meteor/check","imported":["check","Match"],"specifiers":[{"kind":"named","imported":"check","local":"check"},{"kind":"named","imported":"Match","local":"Match"}]}],"exports":{"exported":["Links"],"specifiers":[{"kind":"local","local":"Links","exported":"Links"}]}}},"options":{"filename":"/imports/collections/links.js","filenameRelative":"/imports/collections/links.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/collections/links.js.map","sourceFileName":"/imports/collections/links.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"links"},"ignored":false,"code":"exports.__esModule = true;\nexports.Links = undefined;\n\nvar _mongo = require('meteor/mongo');\n\nvar _validUrl = require('valid-url');\n\nvar _validUrl2 = _interopRequireDefault(_validUrl);\n\nvar _check = require('meteor/check');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nMeteor.methods({\n  'links.insert': function () {\n    function linksInsert(url) {\n      (0, _check.check)(url, _check.Match.Where(function (url) {\n        return _validUrl2['default'].isUri(url);\n      }));\n\n      // We're ready to save the url\n      var token = Math.random().toString(36).slice(-5);\n      Links.insert({ url: url, token: token, clicks: 0 });\n    }\n\n    return linksInsert;\n  }()\n});\n\nvar Links = exports.Links = new _mongo.Mongo.Collection('links');","ast":null,"map":{"version":3,"sources":["/imports/collections/links.js"],"names":[],"mappings":";;;AAAA;;AACA;;;;AACA;;;;AAEA,OAAO,OAAP,CAAe;AACb;AAAgB,yBAAS,GAAT,EAAc;AAC5B,wBAAM,GAAN,EAAW,aAAM,KAAN,CAAY;eAAO,sBAAS,KAAT,CAAe,GAAf;OAAP,CAAvB;;;AAD4B,UAItB,QAAQ,KAAK,MAAL,GAAc,QAAd,CAAuB,EAAvB,EAA2B,KAA3B,CAAiC,CAAC,CAAD,CAAzC,CAJsB;AAK5B,YAAM,MAAN,CAAa,EAAE,QAAF,EAAO,YAAP,EAAc,QAAQ,CAAR,EAA3B,EAL4B;KAAd;;;KAAhB;CADF;;AAUO,IAAM,wBAAQ,IAAI,aAAM,UAAN,CAAiB,OAArB,CAAR","file":"/imports/collections/links.js.map","sourcesContent":["import { Mongo } from 'meteor/mongo';\nimport validUrl from 'valid-url';\nimport { check, Match } from 'meteor/check';\n\nMeteor.methods({\n  'links.insert': function(url) {\n    check(url, Match.Where(url => validUrl.isUri(url)));\n\n    // We're ready to save the url\n    const token = Math.random().toString(36).slice(-5);\n    Links.insert({ url, token, clicks: 0 });\n  }\n});\n\nexport const Links = new Mongo.Collection('links');\n"]},"hash":"63a1da2c42b056134262769a7441e90e7034da07"}
