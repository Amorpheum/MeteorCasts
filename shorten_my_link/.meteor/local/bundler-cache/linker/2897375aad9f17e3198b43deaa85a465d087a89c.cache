[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nReactMeteorData = Package['react-meteor-data'].ReactMeteorData;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package.templating.Template;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"template.main.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/template.main.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.body.addContent((function() {                                                                                 // 2\n  var view = this;                                                                                                     // 3\n  return HTML.Raw('<div class=\"render-target\"></div>');                                                                // 4\n}));                                                                                                                   // 5\nMeteor.startup(Template.body.renderToDocument);                                                                        // 6\n                                                                                                                       // 7\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"components\":{\"header.js\":[\"react\",function(require,exports){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/header.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nexports.__esModule = true;                                                                                             //\n                                                                                                                       //\nvar _react = require(\"react\");                                                                                         // 1\n                                                                                                                       //\nvar _react2 = _interopRequireDefault(_react);                                                                          //\n                                                                                                                       //\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }                      //\n                                                                                                                       //\nvar Header = function Header() {                                                                                       // 3\n  return _react2[\"default\"].createElement(                                                                             // 4\n    \"nav\",                                                                                                             //\n    { className: \"nav navbar-default\" },                                                                               //\n    _react2[\"default\"].createElement(                                                                                  //\n      \"div\",                                                                                                           //\n      { className: \"navbar-header\" },                                                                                  //\n      _react2[\"default\"].createElement(                                                                                //\n        \"a\",                                                                                                           //\n        { className: \"navbar-brand\" },                                                                                 //\n        \"ShortenMyLink\"                                                                                                //\n      )                                                                                                                //\n    )                                                                                                                  //\n  );                                                                                                                   //\n};                                                                                                                     //\n                                                                                                                       //\nexports[\"default\"] = Header;                                                                                           //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}],\"link_create.js\":[\"babel-runtime/helpers/classCallCheck\",\"babel-runtime/helpers/possibleConstructorReturn\",\"babel-runtime/helpers/inherits\",\"react\",function(require,exports){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/link_create.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nexports.__esModule = true;                                                                                             //\n                                                                                                                       //\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');                                                //\n                                                                                                                       //\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);                                                       //\n                                                                                                                       //\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');                          //\n                                                                                                                       //\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);                                 //\n                                                                                                                       //\nvar _inherits2 = require('babel-runtime/helpers/inherits');                                                            //\n                                                                                                                       //\nvar _inherits3 = _interopRequireDefault(_inherits2);                                                                   //\n                                                                                                                       //\nvar _react = require('react');                                                                                         // 1\n                                                                                                                       //\nvar _react2 = _interopRequireDefault(_react);                                                                          //\n                                                                                                                       //\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }                      //\n                                                                                                                       //\nvar LinkCreate = function (_Component) {                                                                               //\n  (0, _inherits3['default'])(LinkCreate, _Component);                                                                  //\n                                                                                                                       //\n  function LinkCreate(props) {                                                                                         // 4\n    (0, _classCallCheck3['default'])(this, LinkCreate);                                                                //\n                                                                                                                       //\n    var _this = (0, _possibleConstructorReturn3['default'])(this, _Component.call(this, props));                       //\n                                                                                                                       //\n    _this.state = { error: '' };                                                                                       // 7\n    return _this;                                                                                                      //\n  }                                                                                                                    //\n                                                                                                                       //\n  LinkCreate.prototype.handleSubmit = function () {                                                                    // 3\n    function handleSubmit(event) {                                                                                     //\n      var _this2 = this;                                                                                               //\n                                                                                                                       //\n      event.preventDefault();                                                                                          // 11\n                                                                                                                       //\n      Meteor.call('links.insert', this.refs.link.value, function (error) {                                             // 13\n        if (error) {                                                                                                   // 14\n          _this2.setState({ error: 'Enter a valid URL' });                                                             // 15\n        } else {                                                                                                       //\n          _this2.setState({ error: '' });                                                                              // 17\n          _this2.refs.link.value = '';                                                                                 // 18\n        }                                                                                                              //\n      });                                                                                                              //\n    }                                                                                                                  //\n                                                                                                                       //\n    return handleSubmit;                                                                                               //\n  }();                                                                                                                 //\n                                                                                                                       //\n  LinkCreate.prototype.render = function () {                                                                          // 3\n    function render() {                                                                                                //\n      return _react2['default'].createElement(                                                                         // 24\n        'form',                                                                                                        //\n        { onSubmit: this.handleSubmit.bind(this) },                                                                    //\n        _react2['default'].createElement(                                                                              //\n          'div',                                                                                                       //\n          { className: 'form-group' },                                                                                 //\n          _react2['default'].createElement(                                                                            //\n            'label',                                                                                                   //\n            null,                                                                                                      //\n            'Link to shorten'                                                                                          //\n          ),                                                                                                           //\n          _react2['default'].createElement('input', { ref: 'link', className: 'form-control' })                        //\n        ),                                                                                                             //\n        _react2['default'].createElement(                                                                              //\n          'div',                                                                                                       //\n          { className: 'text-danger' },                                                                                //\n          this.state.error                                                                                             //\n        ),                                                                                                             //\n        _react2['default'].createElement(                                                                              //\n          'button',                                                                                                    //\n          { className: 'btn btn-primary' },                                                                            //\n          'Shorten!'                                                                                                   //\n        )                                                                                                              //\n      );                                                                                                               //\n    }                                                                                                                  //\n                                                                                                                       //\n    return render;                                                                                                     //\n  }();                                                                                                                 //\n                                                                                                                       //\n  return LinkCreate;                                                                                                   //\n}(_react.Component);                                                                                                   //\n                                                                                                                       //\nexports['default'] = LinkCreate;                                                                                       //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}],\"link_list.js\":[\"babel-runtime/helpers/classCallCheck\",\"babel-runtime/helpers/possibleConstructorReturn\",\"babel-runtime/helpers/inherits\",\"react\",\"meteor/react-meteor-data\",\"../../imports/collections/links\",function(require,exports){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/link_list.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nexports.__esModule = true;                                                                                             //\n                                                                                                                       //\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');                                                //\n                                                                                                                       //\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);                                                       //\n                                                                                                                       //\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');                          //\n                                                                                                                       //\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);                                 //\n                                                                                                                       //\nvar _inherits2 = require('babel-runtime/helpers/inherits');                                                            //\n                                                                                                                       //\nvar _inherits3 = _interopRequireDefault(_inherits2);                                                                   //\n                                                                                                                       //\nvar _react = require('react');                                                                                         // 1\n                                                                                                                       //\nvar _react2 = _interopRequireDefault(_react);                                                                          //\n                                                                                                                       //\nvar _reactMeteorData = require('meteor/react-meteor-data');                                                            // 2\n                                                                                                                       //\nvar _links = require('../../imports/collections/links');                                                               // 3\n                                                                                                                       //\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }                      //\n                                                                                                                       //\nvar LinkList = function (_Component) {                                                                                 //\n  (0, _inherits3['default'])(LinkList, _Component);                                                                    //\n                                                                                                                       //\n  function LinkList() {                                                                                                //\n    (0, _classCallCheck3['default'])(this, LinkList);                                                                  //\n    return (0, _possibleConstructorReturn3['default'])(this, _Component.apply(this, arguments));                       //\n  }                                                                                                                    //\n                                                                                                                       //\n  LinkList.prototype.renderRows = function () {                                                                        //\n    function renderRows() {                                                                                            //\n      return this.props.links.map(function (link) {                                                                    // 7\n        var url = link.url;                                                                                            //\n        var clicks = link.clicks;                                                                                      //\n        var token = link.token;                                                                                        //\n                                                                                                                       //\n        var shortLink = 'http://localhost:3000/' + token;                                                              // 9\n                                                                                                                       //\n        return _react2['default'].createElement(                                                                       // 11\n          'tr',                                                                                                        //\n          { key: token },                                                                                              //\n          _react2['default'].createElement(                                                                            //\n            'td',                                                                                                      //\n            null,                                                                                                      //\n            url                                                                                                        //\n          ),                                                                                                           //\n          _react2['default'].createElement(                                                                            //\n            'td',                                                                                                      //\n            null,                                                                                                      //\n            _react2['default'].createElement(                                                                          //\n              'a',                                                                                                     //\n              { href: shortLink },                                                                                     //\n              shortLink                                                                                                //\n            )                                                                                                          //\n          ),                                                                                                           //\n          _react2['default'].createElement(                                                                            //\n            'td',                                                                                                      //\n            null,                                                                                                      //\n            clicks                                                                                                     //\n          )                                                                                                            //\n        );                                                                                                             //\n      });                                                                                                              //\n    }                                                                                                                  //\n                                                                                                                       //\n    return renderRows;                                                                                                 //\n  }();                                                                                                                 //\n                                                                                                                       //\n  LinkList.prototype.render = function () {                                                                            // 5\n    function render() {                                                                                                //\n      return _react2['default'].createElement(                                                                         // 26\n        'table',                                                                                                       //\n        { className: 'table' },                                                                                        //\n        _react2['default'].createElement(                                                                              //\n          'thead',                                                                                                     //\n          null,                                                                                                        //\n          _react2['default'].createElement(                                                                            //\n            'tr',                                                                                                      //\n            null,                                                                                                      //\n            _react2['default'].createElement(                                                                          //\n              'th',                                                                                                    //\n              null,                                                                                                    //\n              'URL'                                                                                                    //\n            ),                                                                                                         //\n            _react2['default'].createElement(                                                                          //\n              'th',                                                                                                    //\n              null,                                                                                                    //\n              'Address'                                                                                                //\n            ),                                                                                                         //\n            _react2['default'].createElement(                                                                          //\n              'th',                                                                                                    //\n              null,                                                                                                    //\n              'Clicks'                                                                                                 //\n            )                                                                                                          //\n          )                                                                                                            //\n        ),                                                                                                             //\n        _react2['default'].createElement(                                                                              //\n          'tbody',                                                                                                     //\n          null,                                                                                                        //\n          this.renderRows()                                                                                            //\n        )                                                                                                              //\n      );                                                                                                               //\n    }                                                                                                                  //\n                                                                                                                       //\n    return render;                                                                                                     //\n  }();                                                                                                                 //\n                                                                                                                       //\n  return LinkList;                                                                                                     //\n}(_react.Component);                                                                                                   //\n                                                                                                                       //\nexports['default'] = (0, _reactMeteorData.createContainer)(function () {                                               //\n  Meteor.subscribe('links');                                                                                           // 44\n                                                                                                                       //\n  return { links: _links.Links.find({}).fetch() };                                                                     // 46\n}, LinkList);                                                                                                          //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]},\"main.js\":[\"react\",\"react-dom\",\"./components/header\",\"./components/link_create\",\"../imports/collections/links\",\"./components/link_list\",function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/main.js                                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _react = require('react');                                                                                         // 1\n                                                                                                                       //\nvar _react2 = _interopRequireDefault(_react);                                                                          //\n                                                                                                                       //\nvar _reactDom = require('react-dom');                                                                                  // 2\n                                                                                                                       //\nvar _reactDom2 = _interopRequireDefault(_reactDom);                                                                    //\n                                                                                                                       //\nvar _header = require('./components/header');                                                                          // 4\n                                                                                                                       //\nvar _header2 = _interopRequireDefault(_header);                                                                        //\n                                                                                                                       //\nvar _link_create = require('./components/link_create');                                                                // 5\n                                                                                                                       //\nvar _link_create2 = _interopRequireDefault(_link_create);                                                              //\n                                                                                                                       //\nvar _links = require('../imports/collections/links');                                                                  // 6\n                                                                                                                       //\nvar _link_list = require('./components/link_list');                                                                    // 7\n                                                                                                                       //\nvar _link_list2 = _interopRequireDefault(_link_list);                                                                  //\n                                                                                                                       //\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }                      //\n                                                                                                                       //\nvar App = function App() {                                                                                             // 9\n  return _react2['default'].createElement(                                                                             // 10\n    'div',                                                                                                             //\n    null,                                                                                                              //\n    _react2['default'].createElement(_header2['default'], null),                                                       //\n    _react2['default'].createElement(_link_create2['default'], null),                                                  //\n    _react2['default'].createElement(_link_list2['default'], null)                                                     //\n  );                                                                                                                   //\n};                                                                                                                     //\n                                                                                                                       //\nMeteor.startup(function () {                                                                                           // 19\n  _reactDom2['default'].render(_react2['default'].createElement(App, null), document.querySelector('.render-target'));\n});                                                                                                                    //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]},\"imports\":{\"collections\":{\"links.js\":[\"meteor/mongo\",\"valid-url\",\"meteor/check\",function(require,exports){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/collections/links.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nexports.__esModule = true;                                                                                             //\nexports.Links = undefined;                                                                                             //\n                                                                                                                       //\nvar _mongo = require('meteor/mongo');                                                                                  // 1\n                                                                                                                       //\nvar _validUrl = require('valid-url');                                                                                  // 2\n                                                                                                                       //\nvar _validUrl2 = _interopRequireDefault(_validUrl);                                                                    //\n                                                                                                                       //\nvar _check = require('meteor/check');                                                                                  // 3\n                                                                                                                       //\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }                      //\n                                                                                                                       //\nMeteor.methods({                                                                                                       // 5\n  'links.insert': function () {                                                                                        // 6\n    function linksInsert(url) {                                                                                        // 6\n      (0, _check.check)(url, _check.Match.Where(function (url) {                                                       // 7\n        return _validUrl2['default'].isUri(url);                                                                       //\n      }));                                                                                                             //\n                                                                                                                       //\n      // We're ready to save the url                                                                                   //\n      var token = Math.random().toString(36).slice(-5);                                                                // 6\n      Links.insert({ url: url, token: token, clicks: 0 });                                                             // 11\n    }                                                                                                                  //\n                                                                                                                       //\n    return linksInsert;                                                                                                //\n  }()                                                                                                                  //\n});                                                                                                                    //\n                                                                                                                       //\nvar Links = exports.Links = new _mongo.Mongo.Collection('links');                                                      // 15\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}}},{\"extensions\":[\".js\",\".json\",\".html\"]});\nrequire(\"./client/template.main.js\");\nrequire(\"./client/components/header.js\");\nrequire(\"./client/components/link_create.js\");\nrequire(\"./client/components/link_list.js\");\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/client/template.main.js","/client/components/header.js","/client/components/link_create.js","/client/components/link_list.js","/client/main.js","/imports/collections/links.js"],"names":[],"mappings":"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","file":"/app.js","sourcesContent":["\nTemplate.body.addContent((function() {\n  var view = this;\n  return HTML.Raw('<div class=\"render-target\"></div>');\n}));\nMeteor.startup(Template.body.renderToDocument);\n","import React from 'react';\n\nconst Header = () => {\n  return (\n    <nav className=\"nav navbar-default\">\n      <div className=\"navbar-header\">\n        <a className=\"navbar-brand\">ShortenMyLink</a>\n      </div>\n    </nav>\n  );\n};\n\nexport default Header;\n","import React, { Component } from 'react';\n\nclass LinkCreate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { error: '' };\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    Meteor.call('links.insert', this.refs.link.value, (error) => {\n      if (error) {\n        this.setState({ error: 'Enter a valid URL' });\n      } else {\n        this.setState({ error: '' });\n        this.refs.link.value = '';\n      }\n    });\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n          <label>Link to shorten</label>\n          <input ref=\"link\" className=\"form-control\" />\n        </div>\n        <div className=\"text-danger\">{this.state.error}</div>\n        <button className=\"btn btn-primary\">Shorten!</button>\n      </form>\n    );\n  }\n}\n\nexport default LinkCreate;\n","import React, { Component } from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport { Links } from '../../imports/collections/links';\n\nclass LinkList extends Component {\n  renderRows() {\n    return this.props.links.map(link => {\n      const { url, clicks, token } = link;\n      const shortLink = `http://localhost:3000/${token}`;\n\n      return (\n        <tr key={token}>\n          <td>{url}</td>\n          <td>\n            <a href={shortLink}>{shortLink}</a>\n          </td>\n          <td>\n            {clicks}\n          </td>\n        </tr>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>URL</th>\n            <th>Address</th>\n            <th>Clicks</th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.renderRows()}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default createContainer(() => {\n  Meteor.subscribe('links');\n\n  return { links: Links.find({}).fetch() };\n}, LinkList);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Header from './components/header';\nimport LinkCreate from './components/link_create';\nimport { Links } from '../imports/collections/links';\nimport LinkList from './components/link_list';\n\nconst App = () => {\n  return (\n    <div>\n      <Header />\n      <LinkCreate />\n      <LinkList />\n    </div>\n  );\n};\n\nMeteor.startup(() => {\n  ReactDOM.render(<App />, document.querySelector('.render-target'));\n});\n","import { Mongo } from 'meteor/mongo';\nimport validUrl from 'valid-url';\nimport { check, Match } from 'meteor/check';\n\nMeteor.methods({\n  'links.insert': function(url) {\n    check(url, Match.Where(url => validUrl.isUri(url)));\n\n    // We're ready to save the url\n    const token = Math.random().toString(36).slice(-5);\n    Links.insert({ url, token, clicks: 0 });\n  }\n});\n\nexport const Links = new Mongo.Collection('links');\n"]}}]