{"version":3,"sources":["meteor://ðŸ’»app/client/template.main.js","meteor://ðŸ’»app/client/components/header.js","meteor://ðŸ’»app/client/components/link_create.js","meteor://ðŸ’»app/client/components/link_list.js","meteor://ðŸ’»app/client/main.js","meteor://ðŸ’»app/imports/collections/links.js"],"names":[],"mappings":"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","file":"/app.js","sourcesContent":["\nTemplate.body.addContent((function() {\n  var view = this;\n  return HTML.Raw('<div class=\"render-target\"></div>');\n}));\nMeteor.startup(Template.body.renderToDocument);\n","import React from 'react';\n\nconst Header = () => {\n  return (\n    <nav className=\"nav navbar-default\">\n      <div className=\"navbar-header\">\n        <a className=\"navbar-brand\">ShortenMyLink</a>\n      </div>\n    </nav>\n  );\n};\n\nexport default Header;\n","import React, { Component } from 'react';\n\nclass LinkCreate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { error: '' };\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    Meteor.call('links.insert', this.refs.link.value, (error) => {\n      if (error) {\n        this.setState({ error: 'Enter a valid URL' });\n      } else {\n        this.setState({ error: '' });\n        this.refs.link.value = '';\n      }\n    });\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n          <label>Link to shorten</label>\n          <input ref=\"link\" className=\"form-control\" />\n        </div>\n        <div className=\"text-danger\">{this.state.error}</div>\n        <button className=\"btn btn-primary\">Shorten!</button>\n      </form>\n    );\n  }\n}\n\nexport default LinkCreate;\n","import React, { Component } from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport { Links } from '../../imports/collections/links';\n\nclass LinkList extends Component {\n  renderRows() {\n    return this.props.links.map(link => {\n      const { url, clicks, token } = link;\n      const shortLink = `http://localhost:3000/${token}`;\n\n      return (\n        <tr key={token}>\n          <td>{url}</td>\n          <td>\n            <a href={shortLink}>{shortLink}</a>\n          </td>\n          <td>\n            {clicks}\n          </td>\n        </tr>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>URL</th>\n            <th>Address</th>\n            <th>Clicks</th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.renderRows()}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default createContainer(() => {\n  Meteor.subscribe('links');\n\n  return { links: Links.find({}).fetch() };\n}, LinkList);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Header from './components/header';\nimport LinkCreate from './components/link_create';\nimport { Links } from '../imports/collections/links';\nimport LinkList from './components/link_list';\n\nconst App = () => {\n  return (\n    <div>\n      <Header />\n      <LinkCreate />\n      <LinkList />\n    </div>\n  );\n};\n\nMeteor.startup(() => {\n  ReactDOM.render(<App />, document.querySelector('.render-target'));\n});\n","import { Mongo } from 'meteor/mongo';\nimport validUrl from 'valid-url';\nimport { check, Match } from 'meteor/check';\n\nMeteor.methods({\n  'links.insert': function(url) {\n    check(url, Match.Where(url => validUrl.isUri(url)));\n\n    // We're ready to save the url\n    const token = Math.random().toString(36).slice(-5);\n    Links.insert({ url, token, clicks: 0 });\n  }\n});\n\nexport const Links = new Mongo.Collection('links');\n"]}